!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=10)}([function(e,t,n){"use strict";var r,o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.Fragment="FRAGMENT",e.Vertex="VERTEX"}(r=t.ShaderTypes||(t.ShaderTypes={}));var i=function(e,t,n){this.location=e,this.type=t,this.size=n},a=function(){function e(t,n,a,u){var s=this;for(var c in this.gl=t,this.vertexSource=n,this.fragmentSource=a,this.attributes=u,this.uniformLocations={},this.bindAttributes=function(){for(var e in s.attributes){var t=s.attributes[e];s.gl.enableVertexAttribArray(t.location),s.gl.bindBuffer(s.gl.ARRAY_BUFFER,t.buffer),s.gl.vertexAttribPointer(t.location,t.vertexAttributeMetadata.dimension,t.vertexAttributeMetadata.type,t.vertexAttributeMetadata.normalize,t.vertexAttributeMetadata.stride,t.vertexAttributeMetadata.offset)}},this.setUniform=function(t){for(var n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(!s.uniformLocations[t])throw new Error("Uniform '"+t+"' not referenced in source program");var a=s.uniformLocations[t],u=a.location,c=a.type;(n=s.gl)[e.typeToLocationMap[c]].apply(n,o([u],r))},this.useProgram=function(){return s.gl.useProgram(s.program)},this.drawUsingAttribute=function(e,t,n){void 0===t&&(t=s.gl.TRIANGLES),void 0===n&&(n=0);var r=s.attributes[e];s.bindAttributes(),s.gl.drawArrays(t,n,r.data.length/r.vertexAttributeMetadata.dimension)},this.compileShader=function(e,t){var n=s.gl,o=n.createShader(t===r.Fragment?n.FRAGMENT_SHADER:n.VERTEX_SHADER);if(n.shaderSource(o,e),n.compileShader(o),!n.getShaderParameter(o,n.COMPILE_STATUS)){var i=new Error(n.getShaderInfoLog(o));throw n.deleteShader(o),i}return o},this.initShaderProgram=function(e,t){var n=s.gl,r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,t),n.linkProgram(r),!n.getProgramParameter(r,n.LINK_STATUS)){var o=new Error(n.getProgramInfoLog(r));throw n.deleteProgram(r),o}return r},e.typeToLocationMap||e.setTypeToLocationMap(t),this.vertexShader=this.compileShader(n,r.Vertex),this.fragmentShader=this.compileShader(a,r.Fragment),this.program=this.initShaderProgram(this.vertexShader,this.fragmentShader),u){var d=this.gl.getAttribLocation(this.program,c);u[c].location=d}for(var f=t.getProgramParameter(this.program,t.ACTIVE_UNIFORMS),l=0;l<f;l++){var h=t.getActiveUniform(this.program,l),v=h.name,m=h.type,p=h.size,g=this.gl.getUniformLocation(this.program,v);this.uniformLocations[v]=new i(g,m,p)}}return e.setTypeToLocationMap=function(t){var n;e.typeToLocationMap=((n={})[t.FLOAT]="uniform1f",n[t.FLOAT_VEC2]="uniform2f",n[t.FLOAT_VEC3]="uniform3f",n[t.SAMPLER_2D]="uniform1i",n)},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n,r){var o=n.dimension,i=n.type,a=void 0===i?e.FLOAT:i,u=n.normalize,s=void 0!==u&&u,c=n.stride,d=void 0===c?0:c,f=n.offset,l=void 0===f?0:f;void 0===r&&(r=e.STATIC_DRAW),this.data=t,this.location=null;var h=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,h),e.bufferData(e.ARRAY_BUFFER,t,r),this.buffer=h,this.vertexAttributeMetadata={dimension:o,type:a,normalize:s,stride:d,offset:l}};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={get:function(){return this[0]},set:function(e){return this[0]=e,e}},o={get:function(){return this[1]},set:function(e){return this[1]=e,e}};Array.prototype.x||(Object.defineProperty(Array.prototype,"x",r),Object.defineProperty(Array.prototype,"y",o)),t.v2=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),[e,t]},t.ZERO=t.v2(),t.distance=function(e,t){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},t.distanceSquared=function(e,t){return(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)},t.magnitude=function(e){return t.distance(e,t.ZERO)},t.ccw=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y)},t.angle2=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},t.angle3=function(e,t,n){return Math.atan2(e.y-t.y,e.x-t.x)-Math.atan2(n.y-t.y,n.x-t.x)},t.piNum=Math.PI/180,t.numPi=180/Math.PI,t.degToRad=function(e){return e*t.piNum},t.radToDeg=function(e){return e*t.numPi},t.dot=function(e,t){return e.x*t.x+e.y*t.y},t.sum=function(e,n){return t.v2(e.x+n.x,e.y+n.y)},t.sub=function(e,n){return t.v2(e.x-n.x,e.y-n.y)},t.mult=function(e,n){return t.v2(e.x*n.x,e.y*n.y)},t.divide=function(e,n){return t.v2(e.x/n.x,e.y/n.y)},t.unit=function(e){var n=t.distance(t.ZERO,e);return t.v2(e.x/n,e.y/n)},t.normal=function(e,n){var r=n.x-e.x,o=n.y-e.y;return t.v2(-o,r)},t.orthogonal=function(e){return t.v2(-e.y,e.x)},t.scalarMultiply=function(e,n){return t.v2(e.x*n,e.y*n)},t.scalarSum=function(e,n){return t.v2(e.x+n,e.y+n)}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=0,a=-1/0,u=function(){function e(){this.textureSource=i++,this.loaded=!0}return Object.defineProperty(e.prototype,"textureUnit",{get:function(){return this.textureSource%a},enumerable:!0,configurable:!0}),e.prototype.setTexture=function(e){if(a<0&&(a=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),!this.loaded)throw new Error("Attempted to bind image to texture before it loads. Make sure the image is loaded by the time you call bindTexture");var t=e.createTexture();return this._texture=t,this.bindTexture(e),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.texture),t},e.prototype.bindTexture=function(e){e.activeTexture(e.TEXTURE0+this.textureUnit),e.bindTexture(e.TEXTURE_2D,this._texture)},e.prototype.delete=function(e){e.deleteTexture(this._texture),this.loaded=!1},e}();t.default=u;var s=function(e){function t(t){var n=e.call(this)||this;return n.texture=t.canvas,n.height=t.canvas.height,n.width=t.canvas.width,n}return o(t,e),t.prototype.rebindTexture=function(e){this.bindTexture(e),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.texture)},t}(u);t.CanvasTexture=s;var c=function(e){function t(t){var n=e.call(this)||this;n.source=t,n.loaded=!1;var r=new Image;return r.src=t,n.width=r.width,n.height=r.height,r.onload=function(){n.loaded=!0,n.width=r.width,n.height=r.height},n.texture=r,n}return o(t,e),t}(u);t.ImageTexture=c},function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),i=function(e,t){var n=this;this.element=e,this.settings=t,this.mouse=o.v2(),this.mouseButtons=Array(),this.keys=new Set,this.touches=[],this.updateTouches=function(e){e.preventDefault(),n.touches=r(e.touches).map((function(e){return o.v2(e.pageX,e.pageY)}))},this.render=function(){n.draw(n.gl,n),window.requestAnimationFrame(n.render)},this.start=function(){n.init(n.gl,n),n.RAF=requestAnimationFrame(n.render)},this.draw=function(e,t){},this.init=function(e,t){},this.onResize=function(e,t){},this.onClick=function(e,t){},this.onMouseDown=function(e,t){},this.onMouseUp=function(e,t){},this.onKeyDown=function(e,t,n){},this.onKeyUp=function(e,t,n){},this.setCanvasDimensions=function(e,t){var r=n.element;r.width=e,r.height=t,r.style.width=String(e),r.style.height=String(t)},this.setCanvasSize=function(e){e.fullscreen&&(e.width=window.innerWidth,e.height=window.innerHeight),n.setCanvasDimensions(e.width,e.height)},this.setCanvasSize(t);var i=this.gl=this.element.getContext("webgl");if(i||(i=this.gl=this.element.getContext("experimental-webgl")),!i)throw new Error("Could not find webgl context");window.addEventListener("resize",(function(){n.setCanvasSize(t),i.viewport(0,0,t.width,t.height),n.onResize(i,n)})),e.addEventListener("mousemove",(function(e){e.offsetX&&(n.mouse.x=e.offsetX,n.mouse.y=e.offsetY)})),e.addEventListener("mousedown",(function(e){n.mouseButtons[e.button]=!0,n.onMouseDown(i,n)})),e.addEventListener("mouseup",(function(e){n.mouseButtons[e.button]=!1,n.onMouseUp(i,n)})),e.addEventListener("mouseleave",(function(e){n.mouseButtons=Array(),n.onMouseUp(i,n)})),e.addEventListener("click",(function(e){n.onClick(i,n)})),e.addEventListener("touchstart",(function(e){n.updateTouches(e);for(var t=0;t<e.changedTouches.length;t++){var r=e.changedTouches[t];0===t&&(n.mouse.x=r.pageX,n.mouse.y=r.pageY)}n.onMouseDown(i,n)})),e.addEventListener("touchend",(function(e){n.updateTouches(e);for(var t=0;t<e.changedTouches.length;t++){var r=e.changedTouches[t];0===t&&(n.mouse.x=r.pageX,n.mouse.y=r.pageY)}n.onMouseUp(i,n),n.onClick(i,n)})),e.addEventListener("touchmove",(function(e){n.updateTouches(e);for(var t=0;t<e.changedTouches.length;t++){var r=e.changedTouches[t];0===t&&(n.mouse.x=r.pageX,n.mouse.y=r.pageY)}})),e.addEventListener("keydown",(function(e){e.preventDefault();var t=e.keyCode;n.keys.add(t),n.onKeyDown(n.gl,n,t)})),e.addEventListener("keyup",(function(e){e.preventDefault();var t=e.keyCode;n.keys.delete(t),n.onKeyUp(n.gl,n,t)})),e.addEventListener("contextmenu",(function(e){return e.preventDefault()})),e.addEventListener("dragenter",(function(e){return e.preventDefault()}))};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.name=e,this.setup=t,this.draw=n}return e.prototype.onload=function(e){this.material=this.setup(e)},e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=n(5),a=n(7),u=n(8),s=new i.default("Mouse Gradient",(function(e){return new r.default(e,u,a,{aPosition:new o.default(e,new Float32Array([0,0,1,1,0,.5,0,1,.5,0,1,.5,1,0,.5,1,1,0]),{dimension:3})})}),(function(e,t,n){e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t.useProgram(),t.setUniform("uColor",n.mouse.x/n.settings.width,.42,n.mouse.y/n.settings.height),t.drawUsingAttribute("aPosition")}));t.default=s},function(e,t){e.exports="precision mediump float;\nvarying float vColor;\nuniform vec3 uColor;\nvoid main () {\n  gl_FragColor = vec4(uColor * vColor, 1);\n}"},function(e,t){e.exports="precision mediump float;\nattribute vec3 aPosition;\nvarying float vColor;\nvoid main () {\n  vColor = aPosition.z;\n  vec2 pos = (aPosition.xy * 2.0 - 1.0) * vec2(1, -1);\n  gl_Position = vec4(pos, 0, 1);\n}"},,function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(6),i=n(12),a=n(16),u=[o.default,i.default,a.default],s=u[0],c=document.createElement("ul");u.map((function(e,t){var n=document.createElement("li"),r=document.createElement("a");return r.textContent=e.name,r.addEventListener("click",(function(e){e.preventDefault(),s=u[t]})),n.appendChild(r),n})).forEach((function(e){return c.appendChild(e)})),window.onload=function(){document.body.appendChild(c);var t=new r.default(document.getElementById("webgl"),{fullscreen:!0});t.init=function(n){e.engine=t,u.forEach((function(e){return e.onload(n)}))},t.draw=function(e,t){s&&s.draw(e,s.material,t)},t.start()}}).call(this,n(11))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=n(3),a=n(5),u=n(13),s=n(14),c=n(15),d=new i.ImageTexture(c.default),f=new a.default("Texture Example",(function(e){var t=new r.default(e,s,u,{aPosition:new o.default(e,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),{dimension:2}),aTextcoord:new o.default(e,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),{dimension:2})});return d.setTexture(e),t}),(function(e,t,n){e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t.useProgram(),d.bindTexture(e),t.setUniform("uImage",d.textureUnit),t.setUniform("uColor",n.mouse[0]/n.settings.width,.42,n.mouse[1]/n.settings.height),t.drawUsingAttribute("aPosition")}));t.default=f},function(e,t){e.exports="precision mediump float;\nvarying vec2 vTextcoord;\nuniform vec3 uColor;\nuniform sampler2D uImage;\n\nvoid main () {\n  vec4 tex = texture2D(uImage, vTextcoord);\n  gl_FragColor = vec4(\n    tex.r * max(uColor.r, 0.5), // Half the red depending on the mouse\n    tex.g,\n    tex.b * max(uColor.b, 0.5), // Half the blue depending on the mouse\n    tex.a // Will probably always be one, but in the case that we get a PNG\n  );\n}"},function(e,t){e.exports="precision mediump float;\nattribute vec2 aPosition;\nattribute vec2 aTextcoord;\nvarying vec2 vTextcoord;\n\nvoid main () {\n  vTextcoord = aTextcoord;\n  vec2 pos = (aPosition.xy * 2.0 - 1.0) * vec2(1, -1);\n  gl_Position = vec4(pos, 0, 1);\n}\n"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"c72192d9f5410ff728784c1dbdcc7bf3.jpg"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=n(3),a=n(5),u=n(17),s=n(18),c=n(19),d=new i.ImageTexture(c.default),f=new a.default("Image Kernel Example",(function(e){var t=new r.default(e,s,u,{aPosition:new o.default(e,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),{dimension:2}),aTextcoord:new o.default(e,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),{dimension:2})});return d.setTexture(e),t}),(function(e,t,n){e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),t.useProgram(),d.bindTexture(e),t.setUniform("uImage",d.textureUnit),t.drawUsingAttribute("aPosition")}));t.default=f},function(e,t){e.exports="precision mediump float;\nvarying vec2 vTextcoord;\nuniform sampler2D uImage;\n\nvoid main () {\n  vec4 tex = texture2D(uImage, vTextcoord);\n  gl_FragColor = tex;\n}"},function(e,t){e.exports="precision mediump float;\nattribute vec2 aPosition;\nattribute vec2 aTextcoord;\nvarying vec2 vTextcoord;\n\nvoid main () {\n  vTextcoord = aTextcoord;\n  vec2 pos = (aPosition.xy * 2.0 - 1.0) * vec2(1, -1);\n  gl_Position = vec4(pos, 0, 1);\n}\n"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"521c6b8f42ddcd0cd02ecc82fd6f1a0b.jpg"}]);